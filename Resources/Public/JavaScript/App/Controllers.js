// Generated by CoffeeScript 1.7.1
germaniaSacra.controller('monasteryController', function($scope, $http) {
  $http.get('subugoe.germaniasacra/kloster/list.json').success(function(data) {
    return $scope.monasteries = data;
  });
  return $scope.orderProp = 'kloster_id';
});

germaniaSacra.controller('listController', function($scope, $http, Restangular, dtOptions) {
  var type;
  type = angular.element('section[ng-controller]').attr('id');
  Restangular.allUrl('entities', Restangular.configuration.baseUrl + '/' + type + '/list' + Restangular.configuration.suffix).getList().then(function(data) {
    return $scope.entities = data;
  });
  $scope.dtOptions = dtOptions;
  return $scope.update = function() {
    return $http.post(Restangular.configuration.baseUrl + '/' + type + '/update', $scope.entities).error(function(data) {
      return $scope.message = 'ERROR';
    }).success(function(data) {
      if (data.success) {
        return $scope.message = data.message;
      } else {
        return $scope.message = data.message;
      }
    });
  };
});
