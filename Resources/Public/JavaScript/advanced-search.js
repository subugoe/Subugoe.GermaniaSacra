// Generated by CoffeeScript 1.7.1
$(function() {
  $('#search_form, #advanced_search_form').submit(function() {
    var json, search;
    json = $(this).serializeArray();
    search = $.post('/search', json);
    search.success(function(data) {
      data = $.parseJSON(data);
      if (data.length) {
        return $('#uuid_filter').val(data.join('|')).change();
      } else {
        return $('#uuid_filter').val('```').change();
      }
    });
    return search.fail(function(data) {
      return alert('Suche fehlgeschlagen');
    });
  });
  return $('form .reset').click(function(e) {
    e.preventDefault();
    $('#uuid_filter').val('').change();
    return $(this).parents('form').clearForm();
  });
});
