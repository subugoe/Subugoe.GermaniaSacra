<!DOCTYPE html>
<html>
	<head>
		<title>
			Germania Sacra Kloster-Editor
		</title>
		<f:base />
		<meta charset="utf-8">
		<link href="../../../Public/Libraries/style/foundation.min.css" rel="stylesheet">
		<link href="../../../Public/Libraries/style/style.css" rel="stylesheet">
	</head>
	<body>
		<nav class="top-bar">
			<ul class="title-area">
				<li class="name">
					<h1>
						<a href="#">Germania Sacra Klosterdatenbank</a>
					</h1>
				</li>
				<li class="toggle-topbar menu-icon">
					<a href="#">Navigation</a>
				</li>
			</ul>
			<section class="top-bar-section">
				<ul class="left">
					<li>
						<a href="#">Orden</a>
					</li>
					<li>
						<a href="#">Orte</a>
					</li>
					<li>
						<a href="#">GS-Bände</a>
					</li>
					<li>
						<a href="#">Bistümer</a>
					</li>
					<li>
						<a href="#">Kirchenprovinz</a>
					</li>
					<li>
						<a href="#">Datensatzstatus</a>
					</li>
					<li>
						<a href="#">Ämterstatus</a>
					</li>
				</ul>
			</section>
		</nav>
		<section role="main"><h1>
	Klosterliste
</h1>
<form>
	<h2>
		Suche
	</h2>
	<fieldset>
		<label class="large-1 column">Kloster-Nr. <input name="kloster_nr" type="text"></label><label class="large-2 column">Status <input name="status" type="text"></label><label class="large-2 column">Klostername <input name="kloster" type="text"></label><label class="large-2 column">Ort <input name="ort" type="text"></label><label class="large-2 column">Suche über alle Felder <input name="alle" type="text"></label>
		<div class="large-3 columns text-right margin-top">
			<button class="toggle" data-text="ausblenden">Erweiterte Suche einblenden</button>
		</div>
	</fieldset>
	<fieldset class="togglable">
		<legend>Erweiterte Suche</legend>
		<div class="multiple">
			<label class="large-2 column"><select name="filter"><option value="band.nummer">band.nummer</option><option value="bearbeitungsstatus.name">bearbeitungsstatus.name</option><option value="bistum.bistum">bistum.bistum</option><option value="bundesland.bundesland">bundesland.bundesland</option><option value="kloster.kloster_id">kloster.kloster_id</option><option value="kloster.kloster">kloster.kloster</option><option value="kloster.patrozinium">kloster.patrozinium</option><option value="klosterstatus.status">klosterstatus.status</option><option value="kloster.breite">kloster.breite</option><option value="kloster.laenge">kloster.laenge</option><option value="land.land">land.land</option><option value="orden.orden">orden.orden</option><option value="ort.ort">ort.ort</option><option value="personallistenstatus.name">personallistenstatus.name</option><option value="url.url">url.url</option><option value="zeitraum.von_von">zeitraum.von_von</option><option value="zeitraum.bis_bis">zeitraum.bis_bis</option></select></label><label class="large-2 column"><select name="operator"><option value="ist�gleich">ist�gleich</option><option value="ist�gleich�(inkl.�Schreibweise)">ist�gleich�(inkl.�Schreibweise)</option><option value="ist�nicht">ist�nicht</option><option value="enth�lt">enth�lt</option><option value="enth�lt�nicht">enth�lt�nicht</option><option value="beginnt�mit">beginnt�mit</option><option value="endet�mit">endet�mit</option><option value="ist�kleiner�als">ist�kleiner�als</option><option value="ist�gr��er�als">ist�gr��er�als</option><option value="entspricht�regex">entspricht�regex</option><option value="entspricht�nicht�regex">entspricht�nicht�regex</option><option value="fehlt">fehlt</option></select></label><label class="large-4 column"><input name="value" type="text"></label><label class="large-2 column"><select name="concat"><option value="und">und</option><option value="oder">oder</option><option value="und nicht">und nicht</option></select></label>
		</div>
	</fieldset>
</form>
<div class="pagination-centered"> <ul class="pagination"> <li class="arrow unavailable"><a href="">&laquo;</a></li> <li class="current"><a href="">1</a></li> <li><a href="">2</a></li> <li><a href="">3</a></li> <li><a href="">4</a></li> <li class="unavailable"><a href="">&hellip;</a></li> <li><a href="">12</a></li> <li><a href="">13</a></li> <li class="arrow"><a href="">&raquo;</a></li> </ul> </div>

		<f:flashMessages class="flashmessages" />

		<h1><f:render section="Title" /></h1>
		
		<f:render section="Content" />

		
			</div>
				</section>
				<script src="{f:uri.resource(path: 'js/jquery.min.js')}" type="text/javascript"></script>
				<script src="{f:uri.resource(path: 'js/jquery.autosize.min.js')}" type="text/javascript"></script>
				<script src="{f:uri.resource(path: 'js/gs-editor.min.js')}" type="text/javascript"></script>
				<script src="{f:uri.resource(path: 'js/populate.min.js')}" type="text/javascript"></script>
			<script>
	
	<script>
	<![CDATA[
	$(document).ready(function () { 
		$("#NK").submit(function(event) { 
			// Stop form from submitting normally
			event.preventDefault();
		var $form = $(this);
		var form = $('#NK');
		var url = $form.attr("action"); alert(url);
		$.post(url, $("#NK").serialize())
			.done(function(respond) { alert(respond);
				if (respond && respond == "[1]") {
					$("#kloster-created-ok").show();
				}
//				else {
//					$(".kloster-created-error").show();
//				}
				$('#NK')[0].reset();
//				$("#befundinbox_msg").val('');
			});
		});
	});
	]]>
	
	<![CDATA[
	$(document).ready(function () { 
		$("#EditKloster").submit(function(event) { 
			// Stop form from submitting normally
			event.preventDefault();
		var $form = $(this);
		var form = $('#EditKloster');
		var url = $form.attr("action"); alert(url);
		$.post(url, $("#EditKloster").serialize())
			.done(function(respond) { alert(respond);
				if (respond && respond == "[1]") {
					$("#kloster-edited-ok").show();
				}
//				else {
//					$(".kloster-created-error").show();
//				}
//				$("#befundinbox_msg").val('');
			});
		});
	});
	]]>
	
//	$(document).ready(function() {
//		var $this = $(this);
//		url = "http://flow/sub.germania/kloster/jsonList";
//		$.getJSON(url, function(response){ alert(response[0].kloster)
//			$.each(response, function (key, val) { //alert(val);
//				var tr = $('#list').find('tr:eq(1)').clone(true);
//				$.each(val,function(key1,val1){ //alert(key1 + "=>" + val1);
//					if (key1 == "kloster_id") {
//						$("#kloster_id").val(val1); 
//					}
//					if (key1 == "kloster") {
//						$("#kloster").val(val1); 
//					}
//					if (key1 == "ort") { alert(val1);
//						$("#ort").append('<option>' + val1 + '</option>');
//						$('#ort select').val('');
//					}
//				});				
//				$('#list').append(tr);
//				});
//			});
//		});
		
		
		
//		$.getJSON(url, function(response){ alert(response);
		
//			var json = $.parseJSON(response);
		
//			 var output="<ul>";
//			$(json).each(function(i,val){ alert(val);
//				$.each(val,function(k,v){ //alert(v);
//					 output+="<li>" + k + ", " + v + "</li>";
//					//alert(v);
//				});
//			});
//			output+="</ul>";
//			$('span').html(output);
//		});
//	});

//$(document).ready(function() { alert("xxx");
	
//		var $this = $(this);
		
//		url = "http://flow/sub.germania/kloster";
//		$.getJSON(url, function(response){
//			$(response).each(function(i,val){ //alert(val);
//				$.each(val,function(k,v){ alert(k + '=>' + v);

					//var tr = $this.find('tr:eq(1)').clone(true);
				
					//tr.find('td :input').each( function() {
				
						//var name = $(this).attr('name');
						//	name = name.replace('[]', '');
							
							//if (name == k) 
							//alert(k);
					
					//});
				
//				});
				
//			});
//		});
	
//});

//$(document).ready(function() { alert("123");

//	url = "http://flow/sub.germania/kloster";
//	$.ajax(url, function(response){
//		alert(response);
//	});
//});
	
	</script>		
		
	</body>
</html>